<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Premium 18+ Videos</title>
  <meta name="description" content="Premium adult content with high quality videos" />
  <link rel="stylesheet" href="assets/css/style.css" />
  <link rel="stylesheet" href="assets/css/consent.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css" />
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.0/firebase-database.js"></script>
</head>
<body>
  <!-- Consent Popup -->
  <div id="consent-popup" class="hidden">
    <div class="consent-content">
      <h2>Age Verification & Consent</h2>
      <p>This website contains adult content and is only for viewers 18+ years old.</p>
      <p>By entering, you confirm you are at least 18 years of age and consent to viewing adult content.</p>
      <p>We use ads to keep this service free. Please allow ads to support us.</p>
      <div class="consent-buttons">
        <button id="consent-allow" class="btn-allow">I'm 18+</button>
        <button id="consent-deny" class="btn-deny">I'm Not 18+</button>
      </div>
    </div>
  </div>

  <!-- Header -->
  <header class="site-header">
    <div class="header-container">
      <div class="logo">
        <h1>Premium<span>18+</span></h1>
      </div>
      <div class="search-container">
        <input type="text" id="search-input" placeholder="Search videos..." />
        <button id="search-button"><i class="fas fa-search"></i></button>
      </div>
      <div class="social-links">
        <a href="https://www.facebook.com/profile.php?id=61577740794355" class="social-link"><img src="images/facebook.png" alt="Facebook" /></a>
        <a href="https://www.instagram.com/banglaxhub/" class="social-link"><img src="images/instagram.png" alt="Instagram" /></a>
        <a href="https://t.me/+Z1GpSQ7v6IRhNGQ1" class="social-link"><img src="images/telegram.png" alt="Telegram" /></a>
        <button id="join-btn" class="join-btn">Join Community</button>
      </div>
    </div>
  </header>

  <!-- Main Content -->
  <main class="main-content">
    <div class="category-filter">
      <button class="filter-btn active" data-category="all">Trending</button>
      <button class="filter-btn" data-category="bangla">Bangla</button>
      <button class="filter-btn" data-category="cartoon">Cartoon/Hentai</button>
      <button class="filter-btn" data-category="premium">Premium</button>
    </div>

    <div class="video-grid" id="video-container">
      <!-- Videos loaded via Firebase -->
    </div>

    <div class="loading-spinner hidden" id="loading-spinner">
      <div class="spinner"></div>
    </div>
  </main>

  <!-- Footer -->
  <footer class="site-footer">
    <div class="footer-container">
      <div class="footer-links">
        <a href="#">Terms of Service</a>
        <a href="#">Privacy Policy</a>
        <a href="#">DMCA</a>
        <a href="#">2257 Statement</a>
        <a href="#">Contact</a>
      </div>
      <div class="copyright">
        <p>&copy; 2023 Premium18+. All rights reserved.</p>
        <p>All models are 18+ years old.</p>
      </div>
    </div>
  </footer>

  <!-- Scripts -->
  <script src="assets/js/consent.js"></script>
  <script src="assets/js/utils.js"></script>
  <script src="assets/js/ads.js"></script>
  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyC_p2iYOTHmlHfxaH1NLIxTBcLwTY8UgXc",
      authDomain: "premium-videos-admin.firebaseapp.com",
      projectId: "premium-videos-admin",
      databaseURL: "https://premium-videos-admin-default-rtdb.firebaseio.com",
      storageBucket: "premium-videos-admin.appspot.com",
      messagingSenderId: "14153291045",
      appId: "1:14153291045:web:dab7f5b270ccf4627ab6cc"
    };
    firebase.initializeApp(firebaseConfig);

    const db = firebase.database();
    const videoContainer = document.getElementById('video-container');
    const loadingSpinner = document.getElementById('loading-spinner');

    loadingSpinner.classList.remove('hidden');

    db.ref("videos").once('value').then(snapshot => {
      const videos = snapshot.val();
      loadingSpinner.classList.add('hidden');
      if (!videos) return;
      Object.values(videos).forEach(video => {
        const html = `
          <div class="video-card">
            <img src="${video.thumbnail}" alt="${video.title}" class="video-thumb" />
            <h2>${video.title}</h2>
            <div class="video-buttons">
              <a href="redirect.html?url=${encodeURIComponent(video.doodstream)}&ad=true" class="watch-btn">
                <button class="watch-btn">‚ñ∂ Watch on Doodstream</button>
              </a>
              <a href="redirect.html?url=${encodeURIComponent(video.terabox)}&ad=true" class="watch-btn">
                <button class="watch-btn">üì¶ Watch on Terabox</button>
              </a>
              <a href="redirect.html?url=${encodeURIComponent(video.doodstream)}&ad=true" class="watch-btn">
                <button class="watch-btn">üåê Watch on Web</button>
              </a>
            </div>
          </div>
        `;
        videoContainer.innerHTML += html;
      });
    });
  </script>

  <!-- ‚úÖ Push Notification Script -->
  <script src="https://grookilteepsou.net/act/files/tag.min.js?z=9466241" data-cfasync="false" async></script>

  <!-- ‚úÖ Pop-under Script -->
  <script>
    document.addEventListener('click', function (e) {
      if (e.target.closest('.watch-btn')) {
        const consent = localStorage.getItem('adultContentConsent');
        const adsAllowed = consent ? JSON.parse(consent).adsAllowed : false;
        if (adsAllowed && Math.random() < 0.4) {
          (function (s, u, z, p) {
            s.src = u;
            s.setAttribute('data-zone', z);
            (p || document.body).appendChild(s);
          })(
            document.createElement('script'),
            'https://al5sm.com/tag.min.js',
            9466204,
            document.body || document.documentElement
          );
        }
      }
    });
  </script>

  <!-- ‚ùå JS fallback -->
  <noscript>
    <style>body { display: none !important; }</style>
    <div style="padding: 20px; background: #000; color: #fff; text-align: center;">
      This site requires JavaScript and age confirmation to access.
    </div>
  </noscript>
</body>
</html>
